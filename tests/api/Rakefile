require 'pry'
require_relative 'lib/scenarios_list'
require_relative 'lib/scenario_runner'
require_relative 'lib/scenario_ui'
require_relative 'lib/step_ui'

task :default do
  list = ScenariosList.new('./scenarios')
  step_ui = StepUI.new(STDOUT)
  scenario_ui = ScenarioUI.new(STDOUT, step_ui: step_ui)

  list.all.each do |scenario|
    ScenarioRunner.new(scenario, ui: scenario_ui).call
  end
end
